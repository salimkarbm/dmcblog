openapi: 3.0.0
info:
  title: Blog API
  version: 1.0.0
  description: Blog API documentation

servers:
  - url: http://localhost:8000/api/v1

tags:
  - name: Auth
    description: Everything about authentication
  - name: Post
    description: Access to posts
  - name: Comment
    description: Operations about comments
  - name: User
    description: Operations about user

paths:
  /auth/signUp:
    post:
      tags:
        - Auth
      summary: Sign up
      description: Create and sign up new user.
      operationId: addUser
      requestBody:
        description: User object that needs to be added to the database
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
      responses:
        '201':
          description: Successfully signed up
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Invalid input
        '409':
          description: User already exists
        '422':
          description: Validation exception
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"        
        
  /auth/signIn:
    post:
      tags:
        - Auth
      summary: Sign in
      description: Login
      requestBody:
        description: Login user
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
      responses:
        '200':
          description: Successfully logged in
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation exception

          
  /auth/forgot-password:
    post:
      tags:
        - Auth
      summary: Forgot password
      description: forgot password
      requestBody:
        description: Forgot password
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
      responses:
        '200':
          description: Successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'

  /auth/reset-password:
    post:
      tags:
        - Auth
      summary: Reset password
      description: Reset password
      requestBody:
        description: Reset password
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                
      responses:
        '200':
          description: Successfully reset password
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'

components:
  schemas:
    User:
      type: object
      properties:
        fullName:
          type: string
        email:
          type: string
        password:
          type: string
    Error:
      type: object
      properties:
        success:
          type: boolean
        error:
          type: string
        message:
          type: string
      required:
        - success
        - message